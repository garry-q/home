<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Igor || Editor, Translator</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’¾</text></svg>">
    <link rel="stylesheet" href="style.css">
  <!-- Preload background image to improve initial paint -->
  <link rel="preload" as="image" href="./img/CuriosityMarsSurface.jpg">
</head>
<body>
    <div class="container">
        <!-- Language Switcher -->
        <div class="language-switcher">
            <button class="lang-btn" data-lang="ru">RU</button>
            <button class="lang-btn" data-lang="et">ET</button>
            <button class="lang-btn active" data-lang="en">EN</button>
        </div>
        
        <!-- Content Section -->
        <div class="content">
            <div class="main-text">
                <div class="first-paragraph">
                    <span class="intro-text" id="intro-text">I'm Igor, I'm a translator.</span>
                </div>
                
                <!-- Static image -->
                <div class="static-image">
                    <img src="./img/missing_en.png" alt="Image" id="main-image">
                </div>
                
                <div class="body-text" id="body-text">I translate from English and Estonian into Russian in a human way.

I also dabble a bit in Python, various C languages, JavaScript, HTML, CSS, and so on.

You can offer me a project or <span class="coffee-link">just buy me coffee</span>.</div>
            </div>
        </div>
        
        <!-- Social Links -->
        <div class="social-links">
            <a href="#" class="social-btn facebook" title="Facebook" target="_blank">f</a>
            <a href="#" class="social-btn instagram" title="Instagram" target="_blank">ðŸ“·</a>
            <a href="#" class="social-btn linkedin" title="LinkedIn" target="_blank">in</a>
            <a href="#" class="social-btn twitter" title="X (Twitter)" target="_blank">X</a>
            <a href="#" class="social-btn github" title="GitHub" target="_blank">ðŸ’»</a>
        </div>
    </div>

    <!-- Ko-fi Overlay Widget -->
    <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
    <script>
      kofiWidgetOverlay.draw('garryq', {
        'type': 'floating-chat',
        'floating-chat.donateButton.text': 'Support me',
        'floating-chat.donateButton.background-color': 'f45d22',
        'floating-chat.donateButton.text-color': '#fff'
      });
      
      // Store reference to Ko-fi widget for coffee-link functionality
      window.kofiWidget = kofiWidgetOverlay;
      
      // Alternative method: Listen for Ko-fi widget ready event
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
          // Try to find Ko-fi elements after they're loaded
          const kofiBtn = document.querySelector('.floatingchat-container-wrap button');
          if (kofiBtn) {
            window.kofiButton = kofiBtn;
          }
        }, 1000);
      });
    </script>

    <!-- Buy Me a Coffee Overlay Widget -->
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="garryq" data-description="Support me on Buy me a coffee!" data-message="Buy me a Coffee" data-color="#FF813F" data-position="Right" data-x_margin="18" data-y_margin="18"></script>

  <script type="module" src="./src/js/app.js"></script>

  <!-- PayPal Button (bottom-left, right of Ko-fi) -->
  <a href="https://paypal.me/igorkuldmaa" target="_blank" rel="noopener noreferrer" class="paypal-btn" title="Support via PayPal">
    <svg class="paypal-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 32" aria-hidden="true" focusable="false">
      <path fill="#fff" d="M20.6 4.1c-1.3-1.5-3.4-2.1-6.1-2.1H8.7a1 1 0 0 0-1 .8L5.2 23.7a.8.8 0 0 0 .8 1h4a1 1 0 0 0 1-.8l1-6a1 1 0 0 1 1-.8h2.2c4.8 0 8.4-2 9.5-7.6.3-2.1 0-3.8-1.1-5.4zM22.8 9.7c-.8 4.3-3.7 7.1-8.3 7.1h-2.1a.7.7 0 0 0-.7.6l-.8 4.8c0 .3.2.5.5.5h3.5c.3 0 .5-.2.6-.5l.1-.4 1-5.4a.7.7 0 0 1 .7-.6h.5c3.4 0 6-1.4 6.8-5.3.4-1.8.2-3.3-.7-4.4-.8-1.1-2.2-1.7-4.2-1.7h-3.2l.4-2.6h3.2c2.2 0 3.9.5 5.1 1.8 1.1 1.3 1.4 3 1 5.2z"/>
    </svg>
    <span>PayPal</span>
  </a>
  
  <!-- Crypto Buttons (bottom-right, above BuyMeACoffee) -->
  <div id="crypto-container" aria-label="Crypto donations">
    <!-- BTC -->
    <button type="button" class="crypto-btn" data-address="3KSQdk3n9P4AtQyWJaaNgdwPFmpwq7vURX" title="BTC: Click to copy address">
      <svg class="crypto-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true">
        <circle cx="16" cy="16" r="16" fill="#f7931a"/>
        <path fill="#fff" d="M20.8 14.8c.3-2-1.2-3-3.2-3.7l.7-2.9-1.8-.4-.7 2.8-1.4-.3.7-2.8-1.8-.4-.7 2.9-1.1-.3v1.8h.8c.4 0 .5.3.4.6l-1.1 4.2c-.1.3-.4.4-.7.4h-.8v1.8l1.2.3-.7 2.9 1.8.4.7-2.9 1.4.3-.7 2.9 1.8.4.7-2.9c2 .4 3.5.3 4.1-1.5.4-1.2 0-2.1-.8-2.8.9-.4 1.5-1 1.7-2.2zm-3 4.3c-.4 1.4-2.8.6-3.6.4l.7-2.6c.8.2 3.4.5 2.9 2.2zm.4-4.2c-.4 1.3-2.3.6-2.9.4l.6-2.3c.6.1 2.7.3 2.3 1.9z"/>
      </svg>
      BTC
      <div class="tooltip" role="tooltip">
        <img src="./img/btc.png" alt="BTC QR">
        <span class="address">3KSQdk3n9P4AtQyWJaaNgdwPFmpwq7vURX</span>
        <div class="copy-text">Click to Copy</div>
      </div>
    </button>

    <!-- ETH -->
    <button type="button" class="crypto-btn" data-address="0x0004E89df2acFa37f7Fc32338AB789F9251D4E85" title="ETH: Click to copy address">
      <svg class="crypto-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true">
        <circle cx="16" cy="16" r="16" fill="#627eea"/>
        <path fill="#fff" d="M16 5l7 12-7-4-7 4 7-12zm0 22-7-10 7 4 7-4-7 10z"/>
      </svg>
      ETH
      <div class="tooltip" role="tooltip">
        <img src="./img/eth.png" alt="ETH QR">
        <span class="address">0x0004E89df2acFa37f7Fc32338AB789F9251D4E85</span>
        <div class="copy-text">Click to Copy</div>
      </div>
    </button>
  </div>
  <script>
    // Open PayPal in a small popup window to avoid navigating away
    (function(){
      const btn = document.querySelector('.paypal-btn');
      if (btn) {
        btn.addEventListener('click', function(e){
          e.preventDefault();
          const url = this.getAttribute('href');
          const w = 640, h = 720;
          const y = Math.max(0, (window.screen.height - h) / 2);
          const x = Math.max(0, (window.screen.width - w) / 2);
          const features = `noopener,noreferrer,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=${w},height=${h},left=${x},top=${y}`;
          let newWin = window.open(url, 'paypal_popup', features);
          if (!newWin || newWin.closed) {
            // Fallback if popup blocked: try open in a new tab (never same tab)
            newWin = window.open(url, '_blank', 'noopener,noreferrer');
          }
        });
      }
    })();
  </script>
  <script>
    // Copy crypto addresses to clipboard with feedback
    (function(){
      const container = document.getElementById('crypto-container');
      if (!container) return;
      container.querySelectorAll('.crypto-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const address = btn.getAttribute('data-address');
          if (!address) return;
          navigator.clipboard.writeText(address).then(() => {
            const text = btn.querySelector('.copy-text');
            if (text) {
              text.textContent = 'Copied!';
              text.style.color = 'green';
              setTimeout(() => {
                text.textContent = 'Click to Copy';
                text.style.color = '#c00';
              }, 1500);
            }
          }).catch(() => {
            // Optional: fallback via prompt if Clipboard API not available
            window.prompt('Copy address:', address);
          });
        });
      });
    })();
  </script>
</body>
</html>